name: deepo CI
on: [push]
jobs:

    lasagne-py36-cu111_lasagne-py36_lasagne-cu111_lasagne:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@master
            - name: Free disk space
              run: |
                df -h
                sudo apt-get autoremove -y
                sudo apt-get clean
                sudo swapoff -a
                sudo rm -f /swapfile
                docker rmi $(docker image ls -aq)
                df -h
            - name: Build docker image
              run: docker build -t ${{secrets.DOCKER_REPO}}:lasagne-py36-cu111 -t ${{secrets.DOCKER_REPO}}:lasagne-py36 -t ${{secrets.DOCKER_REPO}}:lasagne-cu111 -t ${{secrets.DOCKER_REPO}}:lasagne -f docker/Dockerfile.lasagne-py36-cu111 .
            - name: Deploy docker image
              run: |
                docker login -u ${{secrets.DOCKER_USER}} -p ${{secrets.DOCKER_PASS}}
                docker push ${{secrets.DOCKER_REPO}}:lasagne-py36-cu111
                docker push ${{secrets.DOCKER_REPO}}:lasagne-py36
                docker push ${{secrets.DOCKER_REPO}}:lasagne-cu111
                docker push ${{secrets.DOCKER_REPO}}:lasagne


    mxnet-py36-cpu_mxnet-cpu:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@master
            - name: Free disk space
              run: |
                df -h
                sudo apt-get autoremove -y
                sudo apt-get clean
                sudo swapoff -a
                sudo rm -f /swapfile
                docker rmi $(docker image ls -aq)
                df -h
            - name: Build docker image
              run: docker build -t ${{secrets.DOCKER_REPO}}:mxnet-py36-cpu -t ${{secrets.DOCKER_REPO}}:mxnet-cpu -f docker/Dockerfile.mxnet-py36-cpu .
            - name: Deploy docker image
              run: |
                docker login -u ${{secrets.DOCKER_USER}} -p ${{secrets.DOCKER_PASS}}
                docker push ${{secrets.DOCKER_REPO}}:mxnet-py36-cpu
                docker push ${{secrets.DOCKER_REPO}}:mxnet-cpu


    tensorflow-py36-cpu_tensorflow-cpu:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@master
            - name: Free disk space
              run: |
                df -h
                sudo apt-get autoremove -y
                sudo apt-get clean
                sudo swapoff -a
                sudo rm -f /swapfile
                docker rmi $(docker image ls -aq)
                df -h
            - name: Build docker image
              run: docker build -t ${{secrets.DOCKER_REPO}}:tensorflow-py36-cpu -t ${{secrets.DOCKER_REPO}}:tensorflow-cpu -f docker/Dockerfile.tensorflow-py36-cpu .
            - name: Deploy docker image
              run: |
                docker login -u ${{secrets.DOCKER_USER}} -p ${{secrets.DOCKER_PASS}}
                docker push ${{secrets.DOCKER_REPO}}:tensorflow-py36-cpu
                docker push ${{secrets.DOCKER_REPO}}:tensorflow-cpu


    sonnet-py36-cpu_sonnet-cpu:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@master
            - name: Free disk space
              run: |
                df -h
                sudo apt-get autoremove -y
                sudo apt-get clean
                sudo swapoff -a
                sudo rm -f /swapfile
                docker rmi $(docker image ls -aq)
                df -h
            - name: Build docker image
              run: docker build -t ${{secrets.DOCKER_REPO}}:sonnet-py36-cpu -t ${{secrets.DOCKER_REPO}}:sonnet-cpu -f docker/Dockerfile.sonnet-py36-cpu .
            - name: Deploy docker image
              run: |
                docker login -u ${{secrets.DOCKER_USER}} -p ${{secrets.DOCKER_PASS}}
                docker push ${{secrets.DOCKER_REPO}}:sonnet-py36-cpu
                docker push ${{secrets.DOCKER_REPO}}:sonnet-cpu


    all-py36-cpu_all-cpu_py36-cpu_cpu_all-jupyter-py36-cpu_all-jupyter-cpu_py36-cpu_cpu:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@master
            - name: Free disk space
              run: |
                df -h
                sudo apt-get autoremove -y
                sudo apt-get clean
                sudo swapoff -a
                sudo rm -f /swapfile
                docker rmi $(docker image ls -aq)
                df -h
            - name: Build docker image
              run: docker build -t ${{secrets.DOCKER_REPO}}:all-py36-cpu -t ${{secrets.DOCKER_REPO}}:all-cpu -t ${{secrets.DOCKER_REPO}}:py36-cpu -t ${{secrets.DOCKER_REPO}}:cpu -t ${{secrets.DOCKER_REPO}}:all-jupyter-py36-cpu -t ${{secrets.DOCKER_REPO}}:all-jupyter-cpu -t ${{secrets.DOCKER_REPO}}:py36-cpu -t ${{secrets.DOCKER_REPO}}:cpu -f docker/Dockerfile.all-py36-cpu .
            - name: Deploy docker image
              run: |
                docker login -u ${{secrets.DOCKER_USER}} -p ${{secrets.DOCKER_PASS}}
                docker push ${{secrets.DOCKER_REPO}}:all-py36-cpu
                docker push ${{secrets.DOCKER_REPO}}:all-cpu
                docker push ${{secrets.DOCKER_REPO}}:py36-cpu
                docker push ${{secrets.DOCKER_REPO}}:cpu
                docker push ${{secrets.DOCKER_REPO}}:all-jupyter-py36-cpu
                docker push ${{secrets.DOCKER_REPO}}:all-jupyter-cpu
                docker push ${{secrets.DOCKER_REPO}}:py36-cpu
                docker push ${{secrets.DOCKER_REPO}}:cpu

            - run: docker run ${{secrets.DOCKER_REPO}}:all-py36-cpu  python -c "import tensorflow as m; print(m.__name__, ':', m.__version__);import sonnet as m; print(m.__name__, ':', m.__version__);import torch as m; print(m.__name__, ':', m.__version__);import mxnet as m; print(m.__name__, ':', m.__version__);import cntk as m; print(m.__name__, ':', m.__version__);import chainer as m; print(m.__name__, ':', m.__version__);import theano as m; print(m.__name__, ':', m.__version__);import lasagne as m; print(m.__name__, ':', m.__version__);import caffe as m; print(m.__name__, ':', m.__version__);import paddle as m; print(m.__name__, ':', m.__version__);from tensorflow import keras as m; print(m.__name__, ':', m.__version__);"
            - run: docker run ${{secrets.DOCKER_REPO}}:all-py36-cpu  caffe --version
            - run: docker run ${{secrets.DOCKER_REPO}}:all-py36-cpu  darknet
            - run: docker run ${{secrets.DOCKER_REPO}}:all-py36-cpu  th


    darknet-cpu:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@master
            - name: Free disk space
              run: |
                df -h
                sudo apt-get autoremove -y
                sudo apt-get clean
                sudo swapoff -a
                sudo rm -f /swapfile
                docker rmi $(docker image ls -aq)
                df -h
            - name: Build docker image
              run: docker build -t ${{secrets.DOCKER_REPO}}:darknet-cpu -f docker/Dockerfile.darknet-cpu .
            - name: Deploy docker image
              run: |
                docker login -u ${{secrets.DOCKER_USER}} -p ${{secrets.DOCKER_PASS}}
                docker push ${{secrets.DOCKER_REPO}}:darknet-cpu


    lasagne-py36-cpu_lasagne-cpu:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@master
            - name: Free disk space
              run: |
                df -h
                sudo apt-get autoremove -y
                sudo apt-get clean
                sudo swapoff -a
                sudo rm -f /swapfile
                docker rmi $(docker image ls -aq)
                df -h
            - name: Build docker image
              run: docker build -t ${{secrets.DOCKER_REPO}}:lasagne-py36-cpu -t ${{secrets.DOCKER_REPO}}:lasagne-cpu -f docker/Dockerfile.lasagne-py36-cpu .
            - name: Deploy docker image
              run: |
                docker login -u ${{secrets.DOCKER_USER}} -p ${{secrets.DOCKER_PASS}}
                docker push ${{secrets.DOCKER_REPO}}:lasagne-py36-cpu
                docker push ${{secrets.DOCKER_REPO}}:lasagne-cpu


    paddle-py36-cu111_paddle-py36_paddle-cu111_paddle:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@master
            - name: Free disk space
              run: |
                df -h
                sudo apt-get autoremove -y
                sudo apt-get clean
                sudo swapoff -a
                sudo rm -f /swapfile
                docker rmi $(docker image ls -aq)
                df -h
            - name: Build docker image
              run: docker build -t ${{secrets.DOCKER_REPO}}:paddle-py36-cu111 -t ${{secrets.DOCKER_REPO}}:paddle-py36 -t ${{secrets.DOCKER_REPO}}:paddle-cu111 -t ${{secrets.DOCKER_REPO}}:paddle -f docker/Dockerfile.paddle-py36-cu111 .
            - name: Deploy docker image
              run: |
                docker login -u ${{secrets.DOCKER_USER}} -p ${{secrets.DOCKER_PASS}}
                docker push ${{secrets.DOCKER_REPO}}:paddle-py36-cu111
                docker push ${{secrets.DOCKER_REPO}}:paddle-py36
                docker push ${{secrets.DOCKER_REPO}}:paddle-cu111
                docker push ${{secrets.DOCKER_REPO}}:paddle


    theano-py36-cu111_theano-py36_theano-cu111_theano:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@master
            - name: Free disk space
              run: |
                df -h
                sudo apt-get autoremove -y
                sudo apt-get clean
                sudo swapoff -a
                sudo rm -f /swapfile
                docker rmi $(docker image ls -aq)
                df -h
            - name: Build docker image
              run: docker build -t ${{secrets.DOCKER_REPO}}:theano-py36-cu111 -t ${{secrets.DOCKER_REPO}}:theano-py36 -t ${{secrets.DOCKER_REPO}}:theano-cu111 -t ${{secrets.DOCKER_REPO}}:theano -f docker/Dockerfile.theano-py36-cu111 .
            - name: Deploy docker image
              run: |
                docker login -u ${{secrets.DOCKER_USER}} -p ${{secrets.DOCKER_PASS}}
                docker push ${{secrets.DOCKER_REPO}}:theano-py36-cu111
                docker push ${{secrets.DOCKER_REPO}}:theano-py36
                docker push ${{secrets.DOCKER_REPO}}:theano-cu111
                docker push ${{secrets.DOCKER_REPO}}:theano


    torch-cu102_torch:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@master
            - name: Free disk space
              run: |
                df -h
                sudo apt-get autoremove -y
                sudo apt-get clean
                sudo swapoff -a
                sudo rm -f /swapfile
                docker rmi $(docker image ls -aq)
                df -h
            - name: Build docker image
              run: docker build -t ${{secrets.DOCKER_REPO}}:torch-cu102 -t ${{secrets.DOCKER_REPO}}:torch -f docker/Dockerfile.torch-cu102 .
            - name: Deploy docker image
              run: |
                docker login -u ${{secrets.DOCKER_USER}} -p ${{secrets.DOCKER_PASS}}
                docker push ${{secrets.DOCKER_REPO}}:torch-cu102
                docker push ${{secrets.DOCKER_REPO}}:torch


    caffe-py36-cu111_caffe-py36_caffe-cu111_caffe:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@master
            - name: Free disk space
              run: |
                df -h
                sudo apt-get autoremove -y
                sudo apt-get clean
                sudo swapoff -a
                sudo rm -f /swapfile
                docker rmi $(docker image ls -aq)
                df -h
            - name: Build docker image
              run: docker build -t ${{secrets.DOCKER_REPO}}:caffe-py36-cu111 -t ${{secrets.DOCKER_REPO}}:caffe-py36 -t ${{secrets.DOCKER_REPO}}:caffe-cu111 -t ${{secrets.DOCKER_REPO}}:caffe -f docker/Dockerfile.caffe-py36-cu111 .
            - name: Deploy docker image
              run: |
                docker login -u ${{secrets.DOCKER_USER}} -p ${{secrets.DOCKER_PASS}}
                docker push ${{secrets.DOCKER_REPO}}:caffe-py36-cu111
                docker push ${{secrets.DOCKER_REPO}}:caffe-py36
                docker push ${{secrets.DOCKER_REPO}}:caffe-cu111
                docker push ${{secrets.DOCKER_REPO}}:caffe


    keras-py36-cpu_keras-cpu:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@master
            - name: Free disk space
              run: |
                df -h
                sudo apt-get autoremove -y
                sudo apt-get clean
                sudo swapoff -a
                sudo rm -f /swapfile
                docker rmi $(docker image ls -aq)
                df -h
            - name: Build docker image
              run: docker build -t ${{secrets.DOCKER_REPO}}:keras-py36-cpu -t ${{secrets.DOCKER_REPO}}:keras-cpu -f docker/Dockerfile.keras-py36-cpu .
            - name: Deploy docker image
              run: |
                docker login -u ${{secrets.DOCKER_USER}} -p ${{secrets.DOCKER_PASS}}
                docker push ${{secrets.DOCKER_REPO}}:keras-py36-cpu
                docker push ${{secrets.DOCKER_REPO}}:keras-cpu


    mxnet-py36-cu111_mxnet-py36_mxnet-cu111_mxnet:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@master
            - name: Free disk space
              run: |
                df -h
                sudo apt-get autoremove -y
                sudo apt-get clean
                sudo swapoff -a
                sudo rm -f /swapfile
                docker rmi $(docker image ls -aq)
                df -h
            - name: Build docker image
              run: docker build -t ${{secrets.DOCKER_REPO}}:mxnet-py36-cu111 -t ${{secrets.DOCKER_REPO}}:mxnet-py36 -t ${{secrets.DOCKER_REPO}}:mxnet-cu111 -t ${{secrets.DOCKER_REPO}}:mxnet -f docker/Dockerfile.mxnet-py36-cu111 .
            - name: Deploy docker image
              run: |
                docker login -u ${{secrets.DOCKER_USER}} -p ${{secrets.DOCKER_PASS}}
                docker push ${{secrets.DOCKER_REPO}}:mxnet-py36-cu111
                docker push ${{secrets.DOCKER_REPO}}:mxnet-py36
                docker push ${{secrets.DOCKER_REPO}}:mxnet-cu111
                docker push ${{secrets.DOCKER_REPO}}:mxnet


    theano-py36-cpu_theano-cpu:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@master
            - name: Free disk space
              run: |
                df -h
                sudo apt-get autoremove -y
                sudo apt-get clean
                sudo swapoff -a
                sudo rm -f /swapfile
                docker rmi $(docker image ls -aq)
                df -h
            - name: Build docker image
              run: docker build -t ${{secrets.DOCKER_REPO}}:theano-py36-cpu -t ${{secrets.DOCKER_REPO}}:theano-cpu -f docker/Dockerfile.theano-py36-cpu .
            - name: Deploy docker image
              run: |
                docker login -u ${{secrets.DOCKER_USER}} -p ${{secrets.DOCKER_PASS}}
                docker push ${{secrets.DOCKER_REPO}}:theano-py36-cpu
                docker push ${{secrets.DOCKER_REPO}}:theano-cpu


    tensorflow-py36-cu111_tensorflow-py36_tensorflow-cu111_tensorflow:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@master
            - name: Free disk space
              run: |
                df -h
                sudo apt-get autoremove -y
                sudo apt-get clean
                sudo swapoff -a
                sudo rm -f /swapfile
                docker rmi $(docker image ls -aq)
                df -h
            - name: Build docker image
              run: docker build -t ${{secrets.DOCKER_REPO}}:tensorflow-py36-cu111 -t ${{secrets.DOCKER_REPO}}:tensorflow-py36 -t ${{secrets.DOCKER_REPO}}:tensorflow-cu111 -t ${{secrets.DOCKER_REPO}}:tensorflow -f docker/Dockerfile.tensorflow-py36-cu111 .
            - name: Deploy docker image
              run: |
                docker login -u ${{secrets.DOCKER_USER}} -p ${{secrets.DOCKER_PASS}}
                docker push ${{secrets.DOCKER_REPO}}:tensorflow-py36-cu111
                docker push ${{secrets.DOCKER_REPO}}:tensorflow-py36
                docker push ${{secrets.DOCKER_REPO}}:tensorflow-cu111
                docker push ${{secrets.DOCKER_REPO}}:tensorflow


    sonnet-py36-cu111_sonnet-py36_sonnet-cu111_sonnet:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@master
            - name: Free disk space
              run: |
                df -h
                sudo apt-get autoremove -y
                sudo apt-get clean
                sudo swapoff -a
                sudo rm -f /swapfile
                docker rmi $(docker image ls -aq)
                df -h
            - name: Build docker image
              run: docker build -t ${{secrets.DOCKER_REPO}}:sonnet-py36-cu111 -t ${{secrets.DOCKER_REPO}}:sonnet-py36 -t ${{secrets.DOCKER_REPO}}:sonnet-cu111 -t ${{secrets.DOCKER_REPO}}:sonnet -f docker/Dockerfile.sonnet-py36-cu111 .
            - name: Deploy docker image
              run: |
                docker login -u ${{secrets.DOCKER_USER}} -p ${{secrets.DOCKER_PASS}}
                docker push ${{secrets.DOCKER_REPO}}:sonnet-py36-cu111
                docker push ${{secrets.DOCKER_REPO}}:sonnet-py36
                docker push ${{secrets.DOCKER_REPO}}:sonnet-cu111
                docker push ${{secrets.DOCKER_REPO}}:sonnet


    chainer-py36-cpu_chainer-cpu:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@master
            - name: Free disk space
              run: |
                df -h
                sudo apt-get autoremove -y
                sudo apt-get clean
                sudo swapoff -a
                sudo rm -f /swapfile
                docker rmi $(docker image ls -aq)
                df -h
            - name: Build docker image
              run: docker build -t ${{secrets.DOCKER_REPO}}:chainer-py36-cpu -t ${{secrets.DOCKER_REPO}}:chainer-cpu -f docker/Dockerfile.chainer-py36-cpu .
            - name: Deploy docker image
              run: |
                docker login -u ${{secrets.DOCKER_USER}} -p ${{secrets.DOCKER_PASS}}
                docker push ${{secrets.DOCKER_REPO}}:chainer-py36-cpu
                docker push ${{secrets.DOCKER_REPO}}:chainer-cpu


    torch-cpu:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@master
            - name: Free disk space
              run: |
                df -h
                sudo apt-get autoremove -y
                sudo apt-get clean
                sudo swapoff -a
                sudo rm -f /swapfile
                docker rmi $(docker image ls -aq)
                df -h
            - name: Build docker image
              run: docker build -t ${{secrets.DOCKER_REPO}}:torch-cpu -f docker/Dockerfile.torch-cpu .
            - name: Deploy docker image
              run: |
                docker login -u ${{secrets.DOCKER_USER}} -p ${{secrets.DOCKER_PASS}}
                docker push ${{secrets.DOCKER_REPO}}:torch-cpu


    pytorch-py36-cu111_pytorch-py36_pytorch-cu111_pytorch:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@master
            - name: Free disk space
              run: |
                df -h
                sudo apt-get autoremove -y
                sudo apt-get clean
                sudo swapoff -a
                sudo rm -f /swapfile
                docker rmi $(docker image ls -aq)
                df -h
            - name: Build docker image
              run: docker build -t ${{secrets.DOCKER_REPO}}:pytorch-py36-cu111 -t ${{secrets.DOCKER_REPO}}:pytorch-py36 -t ${{secrets.DOCKER_REPO}}:pytorch-cu111 -t ${{secrets.DOCKER_REPO}}:pytorch -f docker/Dockerfile.pytorch-py36-cu111 .
            - name: Deploy docker image
              run: |
                docker login -u ${{secrets.DOCKER_USER}} -p ${{secrets.DOCKER_PASS}}
                docker push ${{secrets.DOCKER_REPO}}:pytorch-py36-cu111
                docker push ${{secrets.DOCKER_REPO}}:pytorch-py36
                docker push ${{secrets.DOCKER_REPO}}:pytorch-cu111
                docker push ${{secrets.DOCKER_REPO}}:pytorch


    cntk-py36-cpu_cntk-cpu:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@master
            - name: Free disk space
              run: |
                df -h
                sudo apt-get autoremove -y
                sudo apt-get clean
                sudo swapoff -a
                sudo rm -f /swapfile
                docker rmi $(docker image ls -aq)
                df -h
            - name: Build docker image
              run: docker build -t ${{secrets.DOCKER_REPO}}:cntk-py36-cpu -t ${{secrets.DOCKER_REPO}}:cntk-cpu -f docker/Dockerfile.cntk-py36-cpu .
            - name: Deploy docker image
              run: |
                docker login -u ${{secrets.DOCKER_USER}} -p ${{secrets.DOCKER_PASS}}
                docker push ${{secrets.DOCKER_REPO}}:cntk-py36-cpu
                docker push ${{secrets.DOCKER_REPO}}:cntk-cpu


    cntk-py36-cu111_cntk-py36_cntk-cu111_cntk:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@master
            - name: Free disk space
              run: |
                df -h
                sudo apt-get autoremove -y
                sudo apt-get clean
                sudo swapoff -a
                sudo rm -f /swapfile
                docker rmi $(docker image ls -aq)
                df -h
            - name: Build docker image
              run: docker build -t ${{secrets.DOCKER_REPO}}:cntk-py36-cu111 -t ${{secrets.DOCKER_REPO}}:cntk-py36 -t ${{secrets.DOCKER_REPO}}:cntk-cu111 -t ${{secrets.DOCKER_REPO}}:cntk -f docker/Dockerfile.cntk-py36-cu111 .
            - name: Deploy docker image
              run: |
                docker login -u ${{secrets.DOCKER_USER}} -p ${{secrets.DOCKER_PASS}}
                docker push ${{secrets.DOCKER_REPO}}:cntk-py36-cu111
                docker push ${{secrets.DOCKER_REPO}}:cntk-py36
                docker push ${{secrets.DOCKER_REPO}}:cntk-cu111
                docker push ${{secrets.DOCKER_REPO}}:cntk


    all-py36-cu111_all-py36_all-cu111_py36-cu111_all_cu111_py36_latest_all-jupyter-py36-cu111_all-jupyter-py36_all-jupyter-cu111_py36-cu111_all-jupyter_cu111_py36_latest:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@master
            - name: Free disk space
              run: |
                df -h
                sudo apt-get autoremove -y
                sudo apt-get clean
                sudo swapoff -a
                sudo rm -f /swapfile
                docker rmi $(docker image ls -aq)
                df -h
            - name: Build docker image
              run: docker build -t ${{secrets.DOCKER_REPO}}:all-py36-cu111 -t ${{secrets.DOCKER_REPO}}:all-py36 -t ${{secrets.DOCKER_REPO}}:all-cu111 -t ${{secrets.DOCKER_REPO}}:py36-cu111 -t ${{secrets.DOCKER_REPO}}:all -t ${{secrets.DOCKER_REPO}}:cu111 -t ${{secrets.DOCKER_REPO}}:py36 -t ${{secrets.DOCKER_REPO}}:latest -t ${{secrets.DOCKER_REPO}}:all-jupyter-py36-cu111 -t ${{secrets.DOCKER_REPO}}:all-jupyter-py36 -t ${{secrets.DOCKER_REPO}}:all-jupyter-cu111 -t ${{secrets.DOCKER_REPO}}:py36-cu111 -t ${{secrets.DOCKER_REPO}}:all-jupyter -t ${{secrets.DOCKER_REPO}}:cu111 -t ${{secrets.DOCKER_REPO}}:py36 -t ${{secrets.DOCKER_REPO}}:latest -f docker/Dockerfile.all-py36-cu111 .
            - name: Deploy docker image
              run: |
                docker login -u ${{secrets.DOCKER_USER}} -p ${{secrets.DOCKER_PASS}}
                docker push ${{secrets.DOCKER_REPO}}:all-py36-cu111
                docker push ${{secrets.DOCKER_REPO}}:all-py36
                docker push ${{secrets.DOCKER_REPO}}:all-cu111
                docker push ${{secrets.DOCKER_REPO}}:py36-cu111
                docker push ${{secrets.DOCKER_REPO}}:all
                docker push ${{secrets.DOCKER_REPO}}:cu111
                docker push ${{secrets.DOCKER_REPO}}:py36
                docker push ${{secrets.DOCKER_REPO}}:latest
                docker push ${{secrets.DOCKER_REPO}}:all-jupyter-py36-cu111
                docker push ${{secrets.DOCKER_REPO}}:all-jupyter-py36
                docker push ${{secrets.DOCKER_REPO}}:all-jupyter-cu111
                docker push ${{secrets.DOCKER_REPO}}:py36-cu111
                docker push ${{secrets.DOCKER_REPO}}:all-jupyter
                docker push ${{secrets.DOCKER_REPO}}:cu111
                docker push ${{secrets.DOCKER_REPO}}:py36
                docker push ${{secrets.DOCKER_REPO}}:latest


    keras-py36-cu111_keras-py36_keras-cu111_keras:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@master
            - name: Free disk space
              run: |
                df -h
                sudo apt-get autoremove -y
                sudo apt-get clean
                sudo swapoff -a
                sudo rm -f /swapfile
                docker rmi $(docker image ls -aq)
                df -h
            - name: Build docker image
              run: docker build -t ${{secrets.DOCKER_REPO}}:keras-py36-cu111 -t ${{secrets.DOCKER_REPO}}:keras-py36 -t ${{secrets.DOCKER_REPO}}:keras-cu111 -t ${{secrets.DOCKER_REPO}}:keras -f docker/Dockerfile.keras-py36-cu111 .
            - name: Deploy docker image
              run: |
                docker login -u ${{secrets.DOCKER_USER}} -p ${{secrets.DOCKER_PASS}}
                docker push ${{secrets.DOCKER_REPO}}:keras-py36-cu111
                docker push ${{secrets.DOCKER_REPO}}:keras-py36
                docker push ${{secrets.DOCKER_REPO}}:keras-cu111
                docker push ${{secrets.DOCKER_REPO}}:keras


    paddle-py36-cpu_paddle-cpu:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@master
            - name: Free disk space
              run: |
                df -h
                sudo apt-get autoremove -y
                sudo apt-get clean
                sudo swapoff -a
                sudo rm -f /swapfile
                docker rmi $(docker image ls -aq)
                df -h
            - name: Build docker image
              run: docker build -t ${{secrets.DOCKER_REPO}}:paddle-py36-cpu -t ${{secrets.DOCKER_REPO}}:paddle-cpu -f docker/Dockerfile.paddle-py36-cpu .
            - name: Deploy docker image
              run: |
                docker login -u ${{secrets.DOCKER_USER}} -p ${{secrets.DOCKER_PASS}}
                docker push ${{secrets.DOCKER_REPO}}:paddle-py36-cpu
                docker push ${{secrets.DOCKER_REPO}}:paddle-cpu


    darknet-cu111_darknet:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@master
            - name: Free disk space
              run: |
                df -h
                sudo apt-get autoremove -y
                sudo apt-get clean
                sudo swapoff -a
                sudo rm -f /swapfile
                docker rmi $(docker image ls -aq)
                df -h
            - name: Build docker image
              run: docker build -t ${{secrets.DOCKER_REPO}}:darknet-cu111 -t ${{secrets.DOCKER_REPO}}:darknet -f docker/Dockerfile.darknet-cu111 .
            - name: Deploy docker image
              run: |
                docker login -u ${{secrets.DOCKER_USER}} -p ${{secrets.DOCKER_PASS}}
                docker push ${{secrets.DOCKER_REPO}}:darknet-cu111
                docker push ${{secrets.DOCKER_REPO}}:darknet


    pytorch-py36-cpu_pytorch-cpu:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@master
            - name: Free disk space
              run: |
                df -h
                sudo apt-get autoremove -y
                sudo apt-get clean
                sudo swapoff -a
                sudo rm -f /swapfile
                docker rmi $(docker image ls -aq)
                df -h
            - name: Build docker image
              run: docker build -t ${{secrets.DOCKER_REPO}}:pytorch-py36-cpu -t ${{secrets.DOCKER_REPO}}:pytorch-cpu -f docker/Dockerfile.pytorch-py36-cpu .
            - name: Deploy docker image
              run: |
                docker login -u ${{secrets.DOCKER_USER}} -p ${{secrets.DOCKER_PASS}}
                docker push ${{secrets.DOCKER_REPO}}:pytorch-py36-cpu
                docker push ${{secrets.DOCKER_REPO}}:pytorch-cpu


    caffe-py36-cpu_caffe-cpu:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@master
            - name: Free disk space
              run: |
                df -h
                sudo apt-get autoremove -y
                sudo apt-get clean
                sudo swapoff -a
                sudo rm -f /swapfile
                docker rmi $(docker image ls -aq)
                df -h
            - name: Build docker image
              run: docker build -t ${{secrets.DOCKER_REPO}}:caffe-py36-cpu -t ${{secrets.DOCKER_REPO}}:caffe-cpu -f docker/Dockerfile.caffe-py36-cpu .
            - name: Deploy docker image
              run: |
                docker login -u ${{secrets.DOCKER_USER}} -p ${{secrets.DOCKER_PASS}}
                docker push ${{secrets.DOCKER_REPO}}:caffe-py36-cpu
                docker push ${{secrets.DOCKER_REPO}}:caffe-cpu


    chainer-py36-cu111_chainer-py36_chainer-cu111_chainer:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@master
            - name: Free disk space
              run: |
                df -h
                sudo apt-get autoremove -y
                sudo apt-get clean
                sudo swapoff -a
                sudo rm -f /swapfile
                docker rmi $(docker image ls -aq)
                df -h
            - name: Build docker image
              run: docker build -t ${{secrets.DOCKER_REPO}}:chainer-py36-cu111 -t ${{secrets.DOCKER_REPO}}:chainer-py36 -t ${{secrets.DOCKER_REPO}}:chainer-cu111 -t ${{secrets.DOCKER_REPO}}:chainer -f docker/Dockerfile.chainer-py36-cu111 .
            - name: Deploy docker image
              run: |
                docker login -u ${{secrets.DOCKER_USER}} -p ${{secrets.DOCKER_PASS}}
                docker push ${{secrets.DOCKER_REPO}}:chainer-py36-cu111
                docker push ${{secrets.DOCKER_REPO}}:chainer-py36
                docker push ${{secrets.DOCKER_REPO}}:chainer-cu111
                docker push ${{secrets.DOCKER_REPO}}:chainer

